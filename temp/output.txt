> loading > config/database.yml
{:adapter=>"mysql2", :host=>"localhost", :user=>"root", :password=>"password", :database=>"stock4_development"}
sequel_helper init params
{:adapter=>"mysql2", :host=>"localhost", :client=>nil, :user=>"root", :password=>"password", :database=>"stock4_development"}
{:adapter=>"mysql2", :host=>"localhost", :user=>"root", :password=>"password", :database=>"space_ship"}
sequel_helper init params
{:adapter=>"mysql2", :host=>"localhost", :client=>nil, :user=>"root", :password=>"password", :database=>"space_ship"}
>>>> saving
===========
{:csv_params=>{:filename=>"/home/user/fleet.csv", :line_term_by=>"\r\n", :col_names=>["@dummy", "name", "description"]}, :table_name=>"fleet", :table_cols=>["name", "description"], :key_cols=>["name"]}
>> gen_str [LOAD DATA INFILE '/home/user/fleet.csv' INTO TABLE fleettemp LINES TERMINATED BY '
' (@dummy, name, description);]
>> gen_str [INSERT INTO fleet (name, description) SELECT t.name, t.description FROM fleettemp t LEFT JOIN fleet o ON o.name=t.name WHERE o.name IS NULL;]
.*> loading > config/browser.yml
> loading > config/database.yml
> loading > config/dir_names.yml
> loading > config/yahoo_progress.yml
> loading > config/database.yml
sequel_helper init params
{:adapter=>"mysql2", :host=>"localhost", :client=>nil, :user=>"root", :password=>"password", :database=>"stock4_development"}
F> loading > config/browser.yml
> loading > config/database.yml
> loading > config/dir_names.yml
> loading > config/yahoo_progress.yml
> loading > config/database.yml
sequel_helper init params
{:adapter=>"mysql2", :host=>"localhost", :client=>nil, :user=>"root", :password=>"password", :database=>"stock4_development"}
.> loading > config/browser.yml
> loading > config/database.yml
> loading > config/dir_names.yml
> loading > config/yahoo_progress.yml
> loading > config/database.yml
sequel_helper init params
{:adapter=>"mysql2", :host=>"localhost", :client=>nil, :user=>"root", :password=>"password", :database=>"stock4_development"}
.**********...*saved... csv/stock_quotes/GS.csv
......****> loading > config/database.yml
sequel_helper init params
{:adapter=>"mysql2", :host=>"localhost", :client=>nil, :user=>"root", :password=>"password", :database=>"stock4_development"}
......................*......**> loading > config/foo.yml
{"foo"=>123, "bar"=>345, "cur_pos"=>123}
.

Pending:
  BaseCsvToDb test hello returns true
    # Temporarily disabled with xit
    # ./spec/features/main/base_csv_to_db_spec.rb:35
  SaveYahooQuotes main save_to_db AAPL
    # Temporarily disabled with xit
    # ./spec/features/main/save_yahoo_quotes_spec.rb:8
  ScrapeNasdaqSymbols scrape_to_csv returns true
    # Temporarily disabled with xit
    # ./spec/features/main/scrape_nasdaq_symbols_spec.rb:12
  ScrapeNasdaqSymbols test hello returns true
    # Temporarily disabled with xit
    # ./spec/features/main/scrape_nasdaq_symbols_spec.rb:20
  ScrapeWikiSP500 test hello returns true
    # Temporarily disabled with xit
    # ./spec/features/main/scrape_wiki_sp500_spec.rb:12
  ScrapeWikiSP500 main visit_and_parse should be true
    # Temporarily disabled with xit
    # ./spec/features/main/scrape_wiki_sp500_spec.rb:24
  ScrapeYahooPrices test hello returns true
    # Temporarily disabled with xit
    # ./spec/features/main/scrape_yahoo_prices_spec.rb:12
  ScrapeYahooPrices main visit_and_get_csv should contain GS
    # Temporarily disabled with xit
    # ./spec/features/main/scrape_yahoo_prices_spec.rb:24
  ScrapeYahooPrices main save_to_db should contain GS
    # Temporarily disabled with xit
    # ./spec/features/main/scrape_yahoo_prices_spec.rb:35
  ScrapeYahooPrices main csv_to_db should contain GS
    # Temporarily disabled with xit
    # ./spec/features/main/scrape_yahoo_prices_spec.rb:48
  ScrapeYahooPrices util create_url should contain GS
    # Temporarily disabled with xit
    # ./spec/features/main/scrape_yahoo_prices_spec.rb:61
  CsvUtil fetch_csv_from_url basic
    # Temporarily disabled with xit
    # ./spec/features/util/csv_util_spec.rb:37
  ScrapeUtil has_content_and? links on the bottom of page should return true
    # Temporarily disabled with xit
    # ./spec/features/util/scrape_util_spec.rb:15
  ScrapeUtil has_content_and? gibberish should return false
    # Temporarily disabled with xit
    # ./spec/features/util/scrape_util_spec.rb:24
  ScrapeUtil has_content_or? link on the bottom should be true
    # Temporarily disabled with xit
    # ./spec/features/util/scrape_util_spec.rb:35
  ScrapeUtil has_content_or? gibberish should be false
    # Temporarily disabled with xit
    # ./spec/features/util/scrape_util_spec.rb:45
  ValidUtil valid_date invalid 20130101111
    # Temporarily disabled with xit
    # ./spec/features/util/valid_util_spec.rb:130
  YamlUtil read cur_pos exist
    # Temporarily disabled with xit
    # ./spec/features/util/yaml_util_spec.rb:11
  YamlUtil write cur_pos updates
    # Temporarily disabled with xit
    # ./spec/features/util/yaml_util_spec.rb:18

Failures:

  1) FetchYahooQuotes main fetch_csvs_to_file should return true
     Failure/Error: expect(f.fetch_csvs_to_file).to eq(expected_url)
     NoMethodError:
       undefined method `client' for #<Sequel::Mysql2::Database:0xadba484>
     # ./src/main/fetch_yahoo_quotes.rb:72:in `fetch_csvs_to_file'
     # ./spec/features/main/fetch_yahoo_quotes_spec.rb:11:in `block (4 levels) in <top (required)>'

Finished in 5.45 seconds
61 examples, 1 failure, 19 pending

Failed examples:

rspec ./spec/features/main/fetch_yahoo_quotes_spec.rb:8 # FetchYahooQuotes main fetch_csvs_to_file should return true
